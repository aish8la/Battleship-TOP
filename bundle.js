(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),i=n.n(r),a=n(314),o=n.n(a)()(i());o.push([e.id,'* {\n  box-sizing: border-box;\n  padding: 0px;\n  margin: 0px;\n}\n\nbody {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgb(219, 255, 255);\n  height: 100vh;\n  gap: 20px;\n  padding: 1em;\n}\n\n#menu-ctn {\n  border-radius: 8px;\n  border: 2px solid rgb(0, 157, 105);\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  align-items: center;\n  justify-content: center;\n  padding: 3em 6em;\n}\n\nbutton {\n  padding: 1em 1.5em;\n  min-width: 15em;\n  background-color: aquamarine;\n  border: 2px solid rgb(0, 157, 105);\n  border-radius: 8px;\n  transition: 0.3s background-color ease-in-out;\n}\n\nbutton:hover {\n  background-color: aqua;\n  cursor: pointer;\n}\n\n.grid-container {\n  display: grid;\n  border: 2px solid rgb(0, 157, 105);\n  grid-template-columns: repeat(10, 1fr);\n  grid-template-columns: repeat(10, 1fr);\n}\n\n.grid {\n  border: 1px solid rgba(0, 157, 105, 0.536);\n  width: 46px;\n  height: auto;\n  aspect-ratio: 1;\n}\n\n#game-boards {\n  display: flex;\n  gap: 36px;\n  width: 100%;\n  justify-content: space-evenly;\n}\n\n.board-container {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: center;\n}\n\n#message-box {\n  border-radius: 8px;\n  border: 2px solid rgb(0, 157, 105);\n  padding: 1em 2em;\n  width: 100%;\n  min-height: 20%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.wrapper#game-board {\n  padding: 5em;\n}\n\n.grid-container > .grid.ship {\n  background-color: aquamarine;\n}\n\n.grid-container > .grid.hit {\n  background-color: rgba(255, 126, 132, 0.763);\n}\n\n.grid-container > .grid.miss {\n  background-color: rgba(199, 199, 199, 0.763);\n}\n\n.grid-container > .grid.sunk {\n  position: relative;\n  background-color: rgba(255, 126, 132, 0.763);\n  border: 2px solid red;\n}\n\n.grid-container > .grid.sunk::after,\n.grid-container > .grid.sunk::before {\n  content: "";\n  position: absolute;\n  width: calc(\n    100% * 1.4142\n  ); /*√2 × 100% so that the cross touches the boarders*/\n  height: 1.5px;\n  background-color: red;\n  top: 50%;\n  left: 50%;\n  transform-origin: center;\n}\n\n.grid-container > .grid.sunk::after {\n  transform: translate(-50%, -50%) rotate(45deg);\n}\n\n.grid-container > .grid.sunk::before {\n  transform: translate(-50%, -50%) rotate(-45deg);\n}\n\n#button-ctn {\n  border-radius: 8px;\n  border: 2px solid rgb(0, 157, 105);\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  align-items: center;\n  justify-content: center;\n  padding: 3em 6em;\n}\n\n#interrupt-box {\n  border-radius: 8px;\n  border: 2px solid rgb(0, 157, 105);\n  padding: 1em 2em;\n  width: 70%;\n  min-height: 50%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n}\n',""]);const s=o},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(o[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&o[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var d=e[s],c=r.base?d[0]+r.base:d[0],l=a[c]||0,u="".concat(c," ").concat(l);a[c]=l+1;var p=n(u),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=i(h,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var d=r(e,i),c=0;c<a.length;c++){var l=n(a[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=d}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r=n(72),i=n.n(r),a=n(825),o=n.n(a),s=n(659),d=n.n(s),c=n(56),l=n.n(c),u=n(540),p=n.n(u),h=n(113),f=n.n(h),m=n(208),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=d().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=p(),i()(m.A,g),m.A&&m.A.locals&&m.A.locals;class b{constructor(e){this.length=e}hitsTaken=0;hit(){this.hitsTaken++}isSunk(){return this.length===this.hitsTaken}}class y{constructor(e){try{new e}catch{return null}this.initializeBoard(),this.shipClass=e,this.fleet=this.initializeFleet()}boardMaxSize=[10,10];board=null;hitBoard=null;createArray(e){return Array.from({length:e},(()=>null))}initializeBoard(){this.board=Array.from({length:this.boardMaxSize[0]},(()=>this.createArray(this.boardMaxSize[1]))),this.hitBoard=Array.from({length:this.boardMaxSize[0]},(()=>this.createArray(this.boardMaxSize[1])))}fleetBlueprint=[5,4,3,3,2];initializeFleet(){return this.fleetBlueprint.map((e=>new this.shipClass(e)))}axisVector={x:[1,0],y:[0,1]};shipExistAt(e,t){return null!==this.board[e][t]}canPlaceShip(e,t,n){let[r,i]=t;for(let t=0;t<e;t++){if(!this.isValidCoordinate(r,i))return!1;if(this.shipExistAt(r,i))return!1;r+=n[0],i+=n[1]}return!0}placeShip(e,t,n){let r=null,[i,a]=t;if(r="x"===n||"y"===n?this.axisVector[n]:this.axisVector.x,!this.canPlaceShip(e.length,t,r))return null;for(let t=0;t<e.length;t++)this.board[i][a]=e,i+=r[0],a+=r[1];return e}isValidCoordinate(e,t){return!(e<0||t<0||e>=this.boardMaxSize[0]||t>=this.boardMaxSize[1])}ATTACK_RESULTS={HIT:"hit",MISS:"miss",INVALID:"invalid"};receiveAttack(e,t){let n={attackResult:null,isFleetSunk:!1,hitShipSunk:!1};if(!this.isValidCoordinate(e,t)||this.alreadyHit(e,t))return n.attackResult=this.ATTACK_RESULTS.INVALID,n;if(this.shipExistAt(e,t)){const r=this.board[e][t];r.hit(),n.isFleetSunk=this.isAllSunk(),n.attackResult=this.ATTACK_RESULTS.HIT,n.hitShipSunk=r.isSunk()}else n.attackResult=this.ATTACK_RESULTS.MISS;return this.recordHit(e,t,n.attackResult),n}alreadyHit(e,t){return null!==this.hitBoard[e][t]}recordHit(e,t,n){this.hitBoard[e][t]={result:n}}isAllSunk(){for(let e=0;e<this.fleet.length;e++)if(!this.fleet[e].isSunk())return!1;return!0}initLocationList(){const e=[],[t,n]=this.boardMaxSize;let r,i,a=0;for(r=0;r<t;r++)for(i=0;i<n;i++)e[a]=[r,i],a++;return e}getOwnBoard(){const e=Array.from({length:this.boardMaxSize[0]},(()=>this.createArray(this.boardMaxSize[1])));for(let t=0;t<this.boardMaxSize[0];t++)for(let n=0;n<this.boardMaxSize[1];n++){let r="";this.hitBoard[t]&&this.hitBoard[t][n]&&this.hitBoard[t][n].result&&(r=this.hitBoard[t][n].result);const i={};let a="";this.shipExistAt(t,n)&&(a+=" ship",this.board[t][n].isSunk()&&(a+=" sunk")),"hit"===r&&(a+=" hit"),"miss"===r&&(a+=" miss"),i.class=a,e[t][n]=i}return e}getPublicView(){const e=Array.from({length:this.boardMaxSize[0]},(()=>this.createArray(this.boardMaxSize[1])));for(let t=0;t<this.boardMaxSize[0];t++)for(let n=0;n<this.boardMaxSize[1];n++){let r="";this.hitBoard[t]&&this.hitBoard[t][n]&&this.hitBoard[t][n].result&&(r=this.hitBoard[t][n].result);const i={};let a="";this.shipExistAt(t,n)&&this.board[t][n].isSunk()&&(a+=" sunk"),"hit"===r&&(a+=" hit"),"miss"===r&&(a+=" miss"),i.class=a,e[t][n]=i}return e}}const v="computer";class S{constructor(e=v,t,n){this.gameBoard=n,this.type=e,this.playerName=t,this.initUnplacedShips(),e===v&&(this.attackCoordinates=this.gameBoard.initLocationList())}unplacedShips=[];initUnplacedShips(){this.unplacedShips=[...this.gameBoard.fleet]}isAllShipsPlaced(){return!(this.unplacedShips.length>0)}clearBoard(){this.initUnplacedShips(),this.gameBoard.initializeBoard()}placeShipOnBoard(e,t,n=0){const r=this.unplacedShips[n];return r&&this.gameBoard.placeShip(r,e,t)?void this.unplacedShips.splice(n,1):null}receiveAttackFromEnemy(e){const[t,n]=e;return this.gameBoard.receiveAttack(t,n)}placementList=[];initPlacementList(){this.placementList=this.gameBoard.initLocationList()}shuffleList(e){let t,n,r=e.length;for(;r;)t=Math.floor(Math.random()*r),r--,n=e[r],e[r]=e[t],e[t]=n}shufflePlacementList(){this.shuffleList(this.placementList)}randomPlacement(){for(this.unplacedShips.length<this.gameBoard.fleet.length&&this.clearBoard(),this.initPlacementList(),this.shufflePlacementList();this.unplacedShips.length;){let e=this.placementList.pop();for(let t of["x","y"])if(this.placeShipOnBoard(e,t,0)){this.unplacedShips.splice(0,1);break}}}attackCoordinates=null;computerAttack(){if(!(this.attackCoordinates.length<0))return this.shuffleList(this.attackCoordinates),this.attackCoordinates.pop()}}const x=new class{#e=new Map;subscribe(e,t){this.#e.has(e)||this.#e.set(e,new Set),this.#e.get(e).add(t)}unsubscribe(e,t){this.#e.get(e)?.delete(t)}publish(e,t){this.#e.get(e)?.forEach((e=>e(t)))}},C={player1:null,player2:null,currentTurn:null,shipsPlaced:{player1:!1,player2:!1},currentState:null,currentBoard:null},k="player1",B="player2",A={player1:B,player2:k},w="shipPlacement",T="gamePlay",P="gameOver";function L(){return new y(b)}function M(e){const t=L();return new S("human",e,t)}function z(){null===C.currentState&&(C.currentState=w),C.shipsPlaced[k]?C.shipsPlaced[B]?(C.currentState=T,C.currentTurn=k):C.currentTurn=B:C.currentTurn=k}function E(e){const t=A[C.currentTurn],n=C[t].receiveAttackFromEnemy(e);return"invalid"===n.attackResult||n.isFleetSunk?n.isFleetSunk&&(C.currentState=P,x.publish("updateDisplay","")):(x.publish("updateBoard",""),C.currentTurn===k?C.currentTurn=B:C.currentTurn=k,C[C.currentTurn].type!==v&&(C.currentBoard=C.currentTurn),function(){const e=C[C.currentTurn];e.type===v&&E(e.computerAttack())}()),n}const I={body:document.querySelector("body")};function O(e,t={},n){const r=document.createElement(e);r.textContent=n;for(const e of Object.keys(t))r.setAttribute(e,t[e]);return r}function R(e){const t=I.body.querySelector(e);t&&I.body.removeChild(t)}function H(e,t){const[n,r]=e,i=O("div",{class:"grid-container"});for(let e=0;e<=n-1;e++)for(let n=0;n<=r-1;n++){let r="grid";t&&t[e]&&t[e][n]&&t[e][n].class&&(r+=t[e][n].class);const a=O("div",{class:r,"data-column":n,"data-row":e});i.appendChild(a)}return i}function j(){!function(e,t){!function(e){const t=document.querySelector(e),n=t.querySelector(".grid-container");n&&t&&t.removeChild(n)}(e);const n=document.querySelector(e),r=H([10,10],t);n.appendChild(r)}("#ship-placement",function(){const e=C.currentBoard;return C[e].gameBoard.getOwnBoard()}())}function q(){if(C.currentState===w&&function(){R(".wrapper");const e=O("div",{class:"wrapper",id:"game-board"}),t=O("div",{id:"message-box"},"This is a message box for notifications"),n=O("div",{class:"ship-placement",id:"game-boards"}),r=O("div",{class:"board-container",id:"ship-placement"}),i=O("h3",{},"Place Ship"),a=H([10,10],{}),o=O("div",{id:"button-ctn"}),s=O("button",{id:"toggle-orientation"},"Toggle Orientation"),d=O("button",{id:"randomize"},"Randomize"),c=O("button",{id:"confirm"},"Confirm Placement");o.appendChild(s),o.appendChild(d),o.appendChild(c),r.appendChild(i),r.appendChild(a),n.appendChild(r),n.appendChild(o),e.appendChild(t),e.appendChild(n),I.body.appendChild(e)}(),C.currentState===T&&function(e){R(".wrapper");const t=O("div",{class:"wrapper",id:"game-board"}),n=O("div",{id:"message-box"},"This is a message box for notifications"),r=O("div",{class:"in-game",id:"game-boards"}),i=O("div",{class:"board-container",id:"player-board"}),a=O("h3",{},"Your Board"),o=H([10,10],e.ownBoard),s=O("div",{class:"board-container",id:"enemy-board"}),d=O("h3",{},"Enemy Board"),c=H([10,10],e.enemyHitBoard);i.appendChild(a),i.appendChild(o),r.appendChild(i),s.appendChild(d),s.appendChild(c),r.appendChild(s),t.appendChild(n),t.appendChild(r),I.body.appendChild(t)}(function(){const e={ownBoard:null,enemyHitBoard:null},t=C.currentBoard;return e.ownBoard=C[t].gameBoard.getOwnBoard(),e.enemyHitBoard=C[A[t]].gameBoard.getPublicView(),e}()),C.currentState===P){const e=C.currentTurn,t=C[e]?.playerName;!function(e,t){R(".wrapper");const n=O("div",{class:"wrapper",id:"interrupt"}),r=O("div",{id:"interrupt-box"}),i=O("h3",{id:"interrupt-title"},"Game Over"),a=O("p",{id:"interrupt-message"},t);n.appendChild(r),r.appendChild(i),r.appendChild(a),I.body.appendChild(n)}(0,`${t} Wins`)}}x.subscribe("updateDisplay",q);const F=document.querySelector("body");!function(){R(".wrapper");const e=O("div",{class:"wrapper",id:"home-screen"}),t=O("h1",{},"Battleship"),n=O("div",{id:"menu-ctn"}),r=O("button",{id:"single-player",class:"home-screen-btn"},"Single Player"),i=O("button",{id:"two-player",class:"home-screen-btn"},"2 Player");n.appendChild(r),n.appendChild(i),e.appendChild(t),e.appendChild(n),I.body.appendChild(e)}(),F.addEventListener("click",(e=>{"single-player"===e.target.id&&(function(e="Player 1"){C.player1=M(e),C.player2=function(){const e=L();return new S(v,"Computer",e)}(),C.player2.randomPlacement(),C.shipsPlaced.player2=!0,C.currentBoard=k,z()}(),q()),"two-player"===e.target.id&&(function(e="Player 1",t="Player 2"){C.player1=M(e),C.player2=M(t),z()}(),q()),"confirm"===e.target.id&&(function(){const e=C.currentTurn;C[e].isAllShipsPlaced()&&(C.shipsPlaced[e]=!0,z())}(),q())})),F.addEventListener("click",(e=>{"randomize"===e.target.id&&(function(){const e=C.currentTurn;C[e].randomPlacement()}(),j())})),F.addEventListener("click",(e=>{e.target.classList.contains("grid")&&e.target.closest("#enemy-board")&&E([e.target.dataset.row,e.target.dataset.column])}))})();